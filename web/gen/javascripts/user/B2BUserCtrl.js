// Generated by CoffeeScript 1.11.1
(function() {
  var B2BUserCtrl;

  B2BUserCtrl = (function() {
    function B2BUserCtrl($cookieStore, $log, $location, $document, AWSService) {
      this.$cookieStore = $cookieStore;
      this.$log = $log;
      this.$location = $location;
      this.$document = $document;
      this.AWSService = AWSService;
      this.$log.debug("B2B UserCtrl created");
      this.venue = this.AWSService.venue();
      $('.carousel').carousel({
        interval: 5000
      });
      this.loadMap();
      this.initGallery();
      this.$document.find("#manuTabsMP").click(function(e) {
        e.preventDefault();
        return $(this).tab('show');
      });
    }

    B2BUserCtrl.prototype.loadMap = function() {
      var mapLeaflet;
      this.$log.debug("Load Map data");
      L.mapbox.accessToken = 'pk.eyJ1Ijoia296bG93c3QiLCJhIjoiY2lzeGVlNTFnMDAyeTJ0cGR2N3czaXN3ciJ9.fmbuFc5B24xKGiiLJ7mrpA';
      mapLeaflet = L.mapbox.map('map', 'mapbox.streets', {
        scrollWheelZoom: false
      }).setView([38.913184, -77.031952], 16);
      return L.marker([38.913184, -77.031952]).addTo(mapLeaflet);
    };

    B2BUserCtrl.prototype.initGallery = function() {
      this.$log.debug("inita gallery");
      return this.$document.find('#gallery').poptrox({
        baseZIndex: 20000,
        fadeSpeed: 300,
        overlayOpacity: 0,
        selector: 'g',
        popupCloserText: '',
        popupHeight: 150,
        popupLoaderText: '',
        popupSpeed: 300,
        popupWidth: 150,
        usePopupCaption: true,
        usePopupCloser: true,
        usePopupDefaultStyling: false,
        usePopupForceClose: true,
        usePopupLoader: true,
        usePopupNav: true,
        windowMargin: 50
      });
    };

    return B2BUserCtrl;

  })();

  controllersModule.controller('B2BUserCtrl', ['$cookieStore', '$log', '$location', '$document', 'AWSService', B2BUserCtrl]);

}).call(this);
